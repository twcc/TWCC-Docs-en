---
title: (2nd) HowTo：使用一台虛擬運算個體架設多個且安全的網站 | zh
tags: HowTo, VCS, ZH
GA: UA-155999456-1
---

{%hackmd @docsharedstyle/default %}

# Part 2: Install SSL Certificate for websites

In order to prevent the website from being stolen by interested parties when transmitting data, it is recommended to refer the following steps to install an SSL certificate for your website service. All data will be transmitted securely in an encrypted state.

### Step 1. Apply for Domain Name

:::info
<i class="fa fa-paperclip fa-20" aria-hidden="true"></i> **Note:** Please ignore this steps if you have your own Domain Name.
:::


By applying a Domain Name, users can enter a memorable Domain Name (rather than a rigid IP address) in the address bar to quickly start using your web service!

You may apply a free or paid Domain Name according to your needs. The example using [No-IP](https://www.noip.com/) to demonstrate the progress to apply for a free Domain Name:

1. Sign up for [No-IP](https://www.noip.com/) account.
2. Click **My Services** on the left panel > **DNS Records** > click **Create HostName** after login.
3. Setting Hostname (Domain Name): <span>twccservice1.ddns.net</span>
4. Setting IP Address: Enter your **VCS Public IP address**.
![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_96ab3d56d9eaf55adcc742eea7b63a3e.png)
5. Click **Add Hostname** to finished the application.
==**Need to update:exclamation:**==
![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_26834d5ad31dcb5ced2506d7b26d047b.png)



- You may use [NsLookup tools](https://centralops.net/co/NsLookup.aspx) to inquire the local host (Load Balancers)
    1. Enter *Domain Name*
    2. Click **go**
    3. If inquireable the information will showed below; Domain Name's IP address

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_41a439753547e7ef14f9eba29c34da65.png)



- **Repeat the steps above and setting the Hostname (Domain Name):**<span>```twccservice2.ddns.net```</span>

### Step 2. Create a SSL certificate for websites

- Please install [Certbot](https://certbot.eff.org/) as the tools of creating SSL certificate for websites.
```
$ apt install certbot python3-certbot-nginx
```
- Setting service1 domain name 
```
$ certbot --nginx -d <Domain_Name>
```
:::info
<i class="fa fa-paperclip fa-20" aria-hidden="true"></i> **Note:** 
1. Enter the domain name you've applied in the  ```<Domain_Name>``` column.
2. Enter e-mail to receive emergency or safety notice.
```
Enter email address (used for urgent renewal and security notices) (Enter 'c' to
cancel): 
```
```
Please read the Terms of Service at
https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf. You must
agree in order to register with the ACME server at
https://acme-v02.api.letsencrypt.org/directory
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
(A)gree/(C)ancel: A
```

3. Please choose `2`, to directed the HTTP connection to HTTPS and delete HTTP connection:

```
Please choose whether or not to redirect HTTP traffic to HTTPS, removing HTTP access.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1: No redirect - Make no further changes to the webserver configuration.
2: Redirect - Make all requests redirect to secure HTTPS access. Choose this for
new sites, or if you're confident your site works on HTTPS. You can undo this
change by editing your web server's configuration.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Select the appropriate number [1-2] then [enter] (press 'c' to cancel): 2
```
:::
- Enter Nginx config file and modify the root folder corresponding to service2 websites
```
$ vim /etc/nginx/sites-available/default 
```

- Press <kbd>i</kbd> key to enter edit mode and replace the ``` root /var/www/html/service1 ``` code to ``` root /var/www/html/service2 ```

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_e3675fd327645441a60917d853f6388f.png)


- After finished the modify, press <kbd>Esc</kbd> key to exit edit mode and enter `:wq!` command and press  <kbd>Enter</kbd> key to save and exit.
- Please repeat **Step 2 to create SSL certicate for websites.**


:::info
<i class="fa fa-paperclip fa-20" aria-hidden="true"></i> **Note:** Please avoid to install certbot and starts from setting the domain name.
:::
