---
tags: Guide, VCS, VPN, TW
title: 虛擬私有網路 | en
GA: UA-155999456-1
---

{%hackmd @docsharedstyle/default %}
{%hackmd @docsharedstyle/twccheader-en %}

# ![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_d9bf6c4925efee137a33e4218349c813.png)  Virtual Private Network


TWCC VPN service supports the IPsec/IKE secure communication protocol, allowing tenants to establish a Site-to-Site VPN to ensure the secure transmission of data between two sites.

:::info
{%hackmd @docsharedstyle/note-en %}

- This function requires the Tenant Admin's authority to use it. Before establishing a VPN connection, IKE Policy and IPSec Policy must be established.
- For the difference of permissions in VCS instance between Tenant Admin and Tenant User, see [<ins>User roles and permissions</ins>](https://man.twcc.ai/@twccdocs/role-main-en/https%3A%2F%2Fman.twcc.ai%2F%40twccdocs%2Frole-compute-en#虛擬運算服務) for more information.
- TWCC CLI currently does not support this feature.
:::


## Create a IKE Policy 

* Click **IKE Policy** on the left, and on the **IKE Policy Management** page, click **＋Create**.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_bf108ee6d451452a92caf5ed61d38928.png)


* On the "**Create IKE Policy**" page, the system will generate a set of default settings. Please modify the parameter values according to actual needs. After setting, click **Next: Review & Create**.
    * Name: The name of the policy.
    * Authentication algorithm: Select SHA-1, SHA-256, SHA-384, SHA-512 authentication methods.
    * Encryption algorithm: Select 3DES, AES-128, AES-192, AES-256 encryption method.
    * IKE version: Select the IKE version as v1 or v2.
    * Key Lifetime(sec): Enter the key validity time in seconds.
    * Perfect Forward Secrecy (PFS): Perfect Forward Secrecy (PFS) can choose Group 2, Group 5, Group 14.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_540d042b35a883d79342863e73befe3b.png)

* View the IKE Policy information you want to create and click **Create**.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_2612640691a6fdbcd5534bdb73e9c75a.png)


* The newly created IKE Policy will appear at the top of the list.


![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_46b1483fe1cd6e8f278b603df9642023.png)

## Create a IPSec Policy

* Click **IPSec Policy** on the left, and on the **IPSec Policy Management** page, click **＋Create**.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_7b0ba0c434a346cf254bf9d732ea1a46.png)

* On the **Create IPSec Policy** page, the system will generate a set of default settings. Please modify the parameter values according to actual needs. After setting, click **Next: Review & Create**.

    * Name: The name of the Policy.
    * Authentication algorithm: Choose SHA-1, SHA-256, SHA-384, SHA-512 authentication method.
    * Encryption algorithm: Encryption method, select 3DES, AES-128, AES-192, AES-256 algorithm.
    * IPSec protocol: Transmission mode, select ESP, AH, AH-ESP.
    * Encapsulation Mode: Select Tunnel mode or Transport mode. 
    * Key Lifetime(sec): The effective time of the key, in seconds.
    * Perfect Forward Secrecy (PFS): Perfect Forward Secrecy (PFS) can choose Group 2, Group 5, Group 14 to enhance security.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_76a2c88bc1dbd615a417497ec21152d5.png)


* View the IPSec Policy information to be created and click **Create**.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_2287401deeac4dc5a8f1183926e60f13.png)

* The newly created IPSec Policy will appear at the top of the list.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_82be2f554ed6ce1e7fa9f402bffc5d29.png)


* After establishing IKE Policy and IPSec Policy, please go to the VPN management page to create services.

## Create a VPN connection

* Enter the **VPN** service, and on the **VPN Management** page, click **＋Create**.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_254d444a38a637fa4028a94a15494ed8.png)


* Setting up the VPN name, Virtual Network and select IKE Policy and IPSec Policy on the **Create VPN** page. After selecting, click **Next: Review & Create>**.

:::warning
<i class="fa fa-lightbulb-o fa-20" aria-hidden="true"></i> **Hint:** Before establishing a VPN, IKE Policy and IPSec Policy must be established.
:::


![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_fb348b73a1950cda78c99787ea1fb64f.png)

* Check the VPN you want to create and click **Create**.


![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_132c957ae3c86d24bbaade31f404406f.png)

* The established VPN will appear at the top of the list, and the status will show **PENDDING_CREATE**. Click on the list to enter **VPN Details**.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_7deb2f213a2632f310ca95a16f4a3120.png)

## Create connection settings

* After entering the **VPN Details** page, click **Connect** at the top left.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_dac4f1de5963e733cfcfe6ddf6ed775e.png)



* On the connection establishment page, enter the endpoint interconnection address, remote interconnection network segment and pre-shared key, and then click **Connect**.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_8a23bf127a8ddbbca9e2866ea0df3d30.png)


* After the VPN service connection is set up, the status is displayed as **ACTIVE**, the VPN connection is established, and you can start secure data transmission with message confidentiality through this connection.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_329ce8f3a83da654bfb506809370fc6e.png)

