---
title: 安全性群組 | en
tags: Guide, VCS, SG, EN
GA: UA-155999456-1
---


{%hackmd @docsharedstyle/default %}
{%hackmd @docsharedstyle/twccheader-en %}

# Security Group

With TWCC security group, users can control the network security of the VCS instance by setting security rules to manage the network segments, protocols, and ports that connected to the VCS instance.


:::info
{%hackmd @docsharedstyle/note-en %}
- Security group is designed to set individual security rules for each VCS instances. Therefore, at least one available VCS instance must be created before setting the security group rules.
- For the difference between Tenant Admin and Tenant User for using VCS instance, see [<ins>User roles and permissions</ins>](https://man.twcc.ai/@twccdocs/role-main-en/https%3A%2F%2Fman.twcc.ai%2F%40twccdocs%2Frole-netndsec-en#%E5%AE%89%E5%85%A8%E6%80%A7%E7%BE%A4%E7%B5%84).
:::

## View the security group rules of VCS instances

<!-- 1 start -->

<details class="docspoiler">

<summary><b>TWCC Portal</b></summary>

<br>

* Click **Security Group** from the service list to enter **Security Group Management (VCS Instances)** page, and click on the available VCS instance.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_d767967e92926d984b6bbb45532f7bc5.png)


* Enter **Security Group Rules Management** page, the current security group rules will be displayed.

</details>

<!-- Space -->

<div style="height:8px"></div>

<!-- 2. start -->

<details class="docspoiler">

<summary><b>TWCC CLI</b></summary>

<br>

```bash
$ twccli ls vcs                 # List existing VCS instances
$ twccli ls vcs -secg -s 937648 # List the security group of the instance with ID 937648
```
</details>

<br>

:::spoiler Security group rules defaulted by VCS instances
:::info
<i class="fa fa-paperclip fa-20" aria-hidden="true"></i> **Note:**
- The default ingress/egress rules of TWCC Linux instances:

| Direction | Internet protocol | Port (minimum) | Port (maximum)| Protocol|CIDR |
| -------- | -------- | -------- |-------- | -------- | -------- |
| ingress     | IPv4     | 443     |443 | tcp|0.0.0.0/0 |
| ingress     | IPv4     | 22     | 22|tcp |0.0.0.0/0 |
| egress     | IPv4     |      | |ANY |0.0.0.0/0 |
| ingress     | IPv4     |      | |icmp | 0.0.0.0/0|
| egress     | IPv6     |      | |ANY |::/0 |

- The default ingress/egress rules of TWCC Windows instances:

| Direction | Internet protocol | Port (minimum) | Port (maximum)| Protocol|CIDR |
| -------- | -------- | -------- |-------- | -------- | -------- |
| ingress     | IPv4     | 9833     |9833 | tcp|0.0.0.0/0 |
| ingress     | IPv4     | 443     |443 | tcp|0.0.0.0/0 |
| ingress     | IPv4     | 22     | 22|tcp |0.0.0.0/0 |
| egress     | IPv4     |      | |ANY |0.0.0.0/0 |
| ingress     | IPv4     |      | |icmp | 0.0.0.0/0|
| egress     | IPv6     |      | |ANY |::/0 |

:::danger
<i class="fa fa-exclamation-triangle fa-20" aria-hidden="true"></i> **Important:** 
Due to frequent security incidents, if your connection comes from the following countries: China, Germany, France, South Korea, the Netherlands, Poland, and Russia, we will disable your remote connection to Windows instance (port: 9833). If you need to connect to TWCC Windows instances, please contact customer service.
:::


## Create security group rules

<!-- 1 start -->

<details class="docspoiler">

<summary><b>TWCC Portal</b></summary>

<br>

* Click **Security Group** from the service list to enter **Security Group Management (VCS Instances)** page, and click on the available VCS instance.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_2209445e8cb15381e21796aa04f2508a.png)



 
* Enter **Security Group Rules Management** page, the current security group rules will be displayed, and click **＋CREATE** to create a new rule.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_bc6cb3d8aff5fb3aa093d06e58cf85e8.png)



* Enter **Create Security Group Rules** page, fill in the setting information of the security group rule, and then click **NEXT: REVIEW & CREATE>**.
Direction: Select **ingress** or **egress**.
Port Range (Min): Establish the **beginning port** to which this rule applies.
Port Range (Max): Establish the **ending port** to which this rule applies.
Protocol: Select the desired protocol, such as tcp, udp, icm, etc. 
CIDR: The CIDR segment to which this VCS instance security rule applies.

:::danger

{%hackmd @docsharedstyle/important-en %}

Considering information security, CIDR should not be set to the dangerous network segment of `x.x.x.x/0` except for `0.0.0.0/0`.

:::

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_f7722144a582acd6be82aea9b4e66b07.png)



* Review the setting information of the security group rules and the project credit, and then click **CREATE**. 

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_cbec7a87f3fe5735a7f53a3877de0396.png)


* After the creation, a new security group rule will be displayed in the list. 

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_49f6c96bf930c673cb231c6cca9d2c07.png)



</details>

<!-- Space -->

<div style="height:8px"></div>

<!-- 2. start -->

<details class="docspoiler">

<summary><b>TWCC CLI</b></summary>

<br>

:::info
To set the security group, please use `twccli net vcs --help` to query more functions
:::

- To set a secure network segment ==10.10.10.0/24== to open port ==TCP:81== for connection (ingress), use the commands as follows:

```
$ twccli net vcs -secg -s 892486 -cidr 10.10.10.0/24 -in -proto tcp -p 81
$ twccli ls vcs -secg -s 892486
```

:::spoiler See screenshot of operation example 
![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_c3070ab4f93cd206e3945c68e786abfb.png)
:::

</details>

<br>




## Delete security group rules

<!-- 1 start -->

<details class="docspoiler">

<summary><b>TWCC Portal</b></summary>

<br>

Enter **Security Group Rules Management** page> check the rules> click **DELETE** above.

![](https://cos.twcc.ai/SYS-MANUAL/uploads/upload_b9ae7ca9d9f718eb07b29583dc844cb9.png)


- Or click the <i class="fa fa-ellipsis-v fa-20" aria-hidden="true"></i> menu button on the right side of the rule, and click **DELETE**.

</details>

<!-- Space -->

<div style="height:8px"></div>

<!-- 2. start -->

<details class="docspoiler">

<summary><b>TWCC CLI</b></summary>

<br>


To cancel the set security group, use command:point_right: `twccli rm vcs -secg $SecurityGroupId `

:::info
Please use the UUID of the security group when deleting the security group.
You only need to provide at least ==the first 8 codes== of UUID to delete it.
:::
For example:point_down::
```bash
twccli rm vcs -secg ff781775
```

</details>

<br>
