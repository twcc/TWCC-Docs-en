---
title : FAQ-VCS | en
tags: FAQ, EN
GA: UA-155999456-1
---

{%hackmd @docsharedstyle/default %}

# TWCC FAQs | Virtual Compute Service (VCS)

## Connect to the VCS instance
:::spoiler Q1. What open source software can be used to connect to the TWCC CCS, VCS and HPC using SSH?
:::info

Third-party open source software such as MobaXterm, PuTTY and VSCode can be used.

:::

:::spoiler Q2. I want to set up web services using VCS instance, but why I can't connect to the instance?

:::info

Please check whether the instance's security group or firewall rules block the connection. For related documents, see:

- [Security Group](https://man.twcc.ai/@twccdocs/doc-vcs-main-en/https%3A%2F%2Fman.twcc.ai%2F%40twccdocs%2Fguide-vcs-sg-en)
- [Basic Virtual Firewall](https://man.twcc.ai/@twccdocs/doc-vcs-main-en/https%3A%2F%2Fman.twcc.ai%2F%40twccdocs%2Fguide-vcs-vnf-en)

:::

:::spoiler Q3. The VCS instance created by the image cannot be connected, what should I do? 

:::info

Please check the following two configurations of the VCS instance before creating the image:
1. If you set /etc/fstab automatically mount the disk, please comment out this setting or add the setting of `nofail`, otherwise the instance created by the image cannot find the device, which will cause the VCS instance can't be connected.
2. If you are using Ubuntu 18.04 as your operating system, and you have changed the network confugurations of /etc/network/interfaces, it will also cause failing to connect.

After checking the above two settings, create an image for the VCS instance again, and use the newly created image to create the VCS instance. If it still failed to connect, please describe the situation in detail and send an e-mail to isupport@twcc.ai, our technical team will assist you to solve the problem.


:::

:::spoiler Q4. What should I do if I can't connect to the instance after changing the network card settings?

:::info

After the network card settings are changed, it might cause a failure to connect to the VCS instance. Therefore, we strongly recommend you not to change the network card settings. Please be careful when operating and deploying.

If you can't connect to the instance, please describe the situation and VCS instance information in detail, and send an e-mail to isupport@twcc.ai, our technical team will assist you to solve the problem.

:::

:::spoiler Q5. How to solve the SSH connection speed is a bit slow?

:::info

Please adjust the DNS settings of the VCS instance to make the SSH connection speed faster. The setting method and steps are as follows:

**Step 1.** Enter the command
```
$ sudo vi /etc/ssh/sshd_config
```
**Step 2.** Press `i` key to enter insert mode
**Step 3.** Add a line of command
```
Use DNS no
```
**Step 4.** Press `esc` key to exit insert mode, then enter `:wq!`  to save the file.
<br>

If you still have a slow connection after the modification, please contact our Technical Support: isupport@twcc.ai, and provide the local IP and the result of the traceroute to the instance.


:::


:::spoiler Q6. How to connect to the Linux instance using account password?

:::info
See [<ins>this document</ins>](https://man.twcc.ai/@twccdocs/doc-vcs-main-en/https%3A%2F%2Fman.twcc.ai%2F%40twccdocs%2Fhowto-vcs-create-usr-linux-en) to connect to the Linux instance using account password which can prevent the loss of key pair or damage to files.

:::

:::spoiler Q7. When connecting to the VCS instance using SSH, an error message ```WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!``` appears, what should I do?

:::info
The reason for this error is that the certificate stored on the local computer is different from the VCS instance. Therefore, you can avoid this error by deleting the certificate information of the local computer and regenerating it when connecting to the instance. See the following command:


```
$ ssh-keygen  -f  "/Your_Path/.ssh/known_hosts"  -R  "Public IP"
```

{%hackmd @docsharedstyle/note-en %}

`Your_Path` is the path of your local computer, and the following message will appear when you connect again:


```Are you sure you want to continue connecting (yes/no)? ```

Enter ```Yes``` to connect and generate a new certificate.

:::


## Manage the VCS instance
:::spoiler Q1. What should I do if the VCS instance fails to be created?

:::info

Go to **VCS Instance Details**, hover to **`Unsuccessful`** state, and it will display the creation failure message.

Please take a screenshot of this page (and the creation failure message), together with project ID and the VCS instance information (ID, image, hardware configuration, etc.) and send an e-mail to isupport@twcc.ai. Our technical team will assist you to solve the problem.


:::


:::spoiler Q2. What should I do if I forget the login password of the Windows VCS instance?

:::info

When creating a VCS instance, please be sure to save your password properly. If you forget the password, you can delete the instance and re-create it; if you need to save the data and configuration of the original instance, you can create an image of the instance first, and then create a new instance from the image and reset the password.
:::

:::spoiler Q3. What should I do if I lose the key pair of the Linux VCS instance?

:::info

When creating a VCS instance, please be sure to keep your key pair properly. If you lose the key pair, you can delete the instance and re-create it; if you need to save the data and configuration of the original instance, you can create an image of the instance first, and then create a new instance from the image and use the new key pair.
:::

:::spoiler Q4. I want to know the relationship between VCS instance state and usage billing.

:::info

| VCS instance state | Instance usage billing| 
| -------- | -------- | 
| ```Starting```   | Not billed    | 
| ```Ready```      | Billed     |
| ```Stopping```   | Billed     |
| ```Shutdown```   | Billed     |
| ```Queueing```   | Not billed     |
| ```Deleting```   | Billed until the instance is successfully deleted   |
| ```Stopped```    | Not billed   |
| ```Error```      | Not billed   |

If the VCS instance is in ```Shutdown``` state, restart the VCS instance, it will be billed in ```Starting``` state.


:::

:::spoiler Q5. In what state will the VCS instance not billed?

:::info

The VCS instance will not be billed in ```Queueing```, ```Stopped``` and ```Error``` state, and it will be billed in other states.

When in```Starting``` state, it depends on the usage scenario to be billed or not. For detailed explanation, please see Q4.
:::

## Resource configuration and monitoring
:::spoiler Q1. How to adjust the configurations of the created VCS instance?
:::info

If the configurations do not meet your requirements after creation and need to be adjusted to a smaller or larger instance, see [<ins>HowTo: Adjust Virtual Compute Service(VCS) instance configurations</ins>](https://man.twcc.ai/@twccdocs/doc-vcs-main-en/https%3A%2F%2Fman.twcc.ai%2F%40twccdocs%2Fhowto-vcs-resize-instance-en).

:::


:::spoiler Q2. When I was creating a VCS instance, the system shows `The project is ran out of the resources and cannot create anymore.` but I have enough credit in main wallet and sub wallet. What should I do?

:::info

This message shows that your CPU usage has reached the project credit. We recommend you create an image of the unused or less used VCS instance for future creation and use, and delete the VCS instance to release your CPU usage credit.

:::

:::spoiler Q3. How do I know the network traffic state of my VCS instance?

:::info

On TWCC Portal, it shows simple state and flow of CPU, disk, memory and network usage. You may install the monitoring program by yourself to get more detailed information.

:::

:::spoiler Q4. How can I get GPU resources?

:::info
The GPU resources question are frequently aksed. In order to make the resources more properly used and allocated, if you need to use GPU, please cantact isupport@twcc.ai.
:::

## Package software
:::spoiler Q1. Does Virtual Compute Service support SMTP? 

:::info

In a VCS instance, you can install any software or applications for your needs, so you can use the VCS instance as an SMTP server to send e-mail.


:::

:::spoiler Q2. When installing packages or updating the VCS instance, it shows `E: Could not get lock /var/lib/apt/lists/lock`. What should I do?
:::info

1. When installing or updating the packages, there might be some error messages about the lock file. Please delete the lock file and try again.
2. It is recommended to use Ubuntu 20.04 image to avoid this problem.

:::
## Storage and data transferring
:::spoiler Q1. Can VCS instances directly mount Cloud Object Storage (COS)?

:::info

Yes, it can directly mount COS. You are a full-access admin in your VCS instance, and you can perform any operations on the instance. To use s3fs or related packages for mounting, please refer to [<ins>s3fs-fuse</ins>](https://github.com/s3fs-fuse/s3fs-fuse).

:::

:::spoiler Q2. How to regularly back up VCS instance data to Cloud Object Storage (COS)?

:::info

Use TWCC-CLI and `crontab -e` to set up regularly creating images.
- For details on using TWCC-CLI, see [<ins>4-3. Upload files to bucket</ins>](https://man.twcc.ai/@twccdocs/twcc-cli-v05#4-3-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88%E8%87%B3%E5%84%B2%E5%AD%98%E9%AB%94).
- For details on using `crontab -e`, see [<ins>crontab guru</ins>](https://crontab.guru/) or [<ins>crontab(5) - Linux man page</ins>](https://linux.die.net/man/5/crontab).

:::

:::spoiler Q3. What will happen if an image exceeding 100GB is imported into a VCS instance?

:::info

The size of the system disk is 100GB. If it stores more than 100GB will make the VCS instance unable to open, but it will not be billed.


:::


:::spoiler Q4. How to download the VCS instance data  to the local computer?

:::info

There are 2 methods to download:

Transfer to this machine through the cloud object storage service (COS). This method can not only achieve the purpose of data transmission, but also back up individual data to COS:
1. Using COS to download not only transmits the data, but also backs up instance data to COS:
    - **Step 1.** [<ins> Back up the data to COS</ins>](https://www.twcc.ai/doc?page=backup).
    - **Step 2.** Go to **Cloud Object Storage Management** page on TWCC Portal to [<ins>Download files</ins>](https://www.twcc.ai/doc?page=object#%E4%B8%8B%E8%BC%89%E6%AA%94%E6%A1%88). If you need to download multiple files at once, use  with[<ins> Third-party software</ins>](https://www.twcc.ai/doc?page=object#%E4%BD%BF%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E8%BB%9F%E9%AB%94%E7%AE%A1%E7%90%86%E6%AA%94%E6%A1%88).

2. [<ins>Using MobaXterm to connect to the VCS instance</ins>](https://www.twcc.ai/doc?page=vm#%E9%80%A3%E7%B7%9A%E8%99%9B%E6%93%AC%E9%81%8B%E7%AE%97%E5%80%8B%E9%AB%94): Select "**Sftp**" icon on the left side of the page to view, upload and download files.
:::

:::spoiler Q5. How to upload the local data to the VCS instance?

:::info

There are 2 methods to upload:
1. Using Cloud Object Service (COS):
    - **Step 1.** [<ins>Upload local files to Cloud Object Storage Service (COS)</ins>](https://www.twcc.ai/doc?page=object#%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88)
    - **Step 2.** [<ins>Connect to the VCS instance</ins>](https://www.twcc.ai/doc?page=vm#%E9%80%A3%E7%B7%9A%E8%99%9B%E6%93%AC%E9%81%8B%E7%AE%97%E5%80%8B%E9%AB%94)
    - **Step 3.** Use built-in TWCC-CLI to [<ins>Download the files in COS to the assigned directory</ins>](https://man.twcc.ai/@twccdocs/twcc-cli-v05#4-%E9%9B%B2%E7%AB%AF%E7%89%A9%E4%BB%B6%E5%84%B2%E5%AD%98%E6%9C%8D%E5%8B%99COS-Cloud-Object-Storage).
2. [<ins>Using MobaXterm to connect to the VCS instance</ins>](https://www.twcc.ai/doc?page=vm#%E9%80%A3%E7%B7%9A%E8%99%9B%E6%93%AC%E9%81%8B%E7%AE%97%E5%80%8B%E9%AB%94): Select "**Sftp**" icon on the left side of the page to view, upload and download files.
:::

## Network & Security


### Virtual network

:::spoiler Q1. Why can't the VCS instance connect to the Internet after creating?

:::info

Please check the virtual network configurations;

If you have enabled the Basic Virtual Firewall (BVF), and you're not sure whether the rules are set correctly, we advise you disable the firewall first and try to connect again.


For Basic Virtual Firewall (BVF) configurations, refer to [<ins>this document</ins>](https://man.twcc.ai/@twccdocs/doc-vcs-main-en/https%3A%2F%2Fman.twcc.ai%2F%40twccdocs%2Fguide-vcs-vnf-en), or contact our Technical Support: [isupport@twcc.ai](isupport@twcc.ai).

:::

:::spoiler Q2. How to open the non-default port of the VCS instance to provide service?

:::info

- The default open ports of Linux instance: 22、443
- The default open ports of Wondows instance: 22、443、9833
- You may open an additional port by setting the security group, please refer to [<ins>this document</ins>](https://man.twcc.ai/@twccdocs/doc-vcs-main-en/https%3A%2F%2Fman.twcc.ai%2F%40twccdocs%2Fguide-vcs-sg-en).

:::
### Auto scaling

:::spoiler Q1. How to make the instances expanded by auto scaling meet the environment?

:::info

Please follow the steps:

* Create environment image
  1. Create a VCS instance, deploy the environment and files, and create an instance image (or use your existing instance to create an image)
* Set up auto scaling
  3. Create an auto scaling
  4. Attach the auto scaling to the instance created in step 2

After the above steps, the instances expanded by auto scaling will meet the environment you need.

:::

## Image

:::spoiler Q1. How long does it take to create an image?

:::info

The image creation takes about 10-15 minutes.

:::

:::spoiler Q2. How to shorten the image creation time?

:::info

If there is still transmitting data while creating the image, the data might be incomplete and inconsistent, moreover, it takes longer time than usual. Therefore, before creating an image, we advise you to shut down the instance manually (`$ sudo shutdown`) and make sure the data has been written into the virtual disk first.


:::

:::spoiler Q3. How to make a VCS instance automatically create an image?

:::info

Use TWCC-CLI and `crontab -e` to set up regularly creating images.
- For details on using TWCC-CLI, see [<ins>3-6. VCS instance image</ins>](https://man.twcc.ai/@twccdocs/twcc-cli-v05#3-6-%E8%99%9B%E6%93%AC%E9%81%8B%E7%AE%97%E5%80%8B%E9%AB%94%E5%BF%AB%E7%85%A7-TBD%E2%80%A6).
- For details on using `crontab -e`, see [<ins>crontab guru</ins>](https://crontab.guru/) or [<ins>crontab(5) - Linux man page</ins>](https://linux.die.net/man/5/crontab).


:::


